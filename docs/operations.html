<!DOCTYPE html SYSTEM "about:legacy-compat"><html lang="en-US" data-colors-preset="contrast" data-primary-color="#307FFF"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="robots" content="noindex">  <meta name="built-on" content="2021-11-29T16:09:45.274532"><meta name="build-number" content="195">    <meta name="keywords" content="">   <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&amp;l='+l:'';j.async=true;j.src= '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-5P98');</script><script src="https://resources.jetbrains.com/storage/help-app/v3/analytics.js"></script>  <title>Operations | Dataframe</title>   <link href="https://resources.jetbrains.com/storage/help-app/v3/app.css" rel="stylesheet">   <link rel="apple-touch-icon" sizes="180x180" href="https://jetbrains.com/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="https://jetbrains.com/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="https://jetbrains.com/favicon-16x16.png"><link rel="manifest" href="https://jetbrains.com/site.webmanifest"><link rel="mask-icon" href="https://jetbrains.com/safari-pinned-tab.svg" color="#000000"><meta name="msapplication-TileColor" content="#000000"/><meta name="msapplication-TileImage" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-144x144.png"/><meta name="msapplication-square70x70logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-70x70.png"/><meta name="msapplication-square150x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-150x150.png"/><meta name="msapplication-wide310x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x150.png"/><meta name="msapplication-square310x310logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x310.png"/>  <meta name="image" content=""><!-- Open Graph --><meta property="og:title" content="Operations | Dataframe"/><meta property="og:description" content=""/><meta property="og:image" content=""/><meta property="og:site_name" content="Dataframe Help"/><meta property="og:type" content="website"/><meta property="og:locale" content="en_US"/><meta property="og:url" content="https://kotlin.github.io/dataframe//0.9/operations.html"/><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content=""><meta name="twitter:title" content="Operations | Dataframe"><meta name="twitter:description" content=""><meta name="twitter:creator" content=""><meta name="twitter:image:src" content=""><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json"> { "@context": "http://schema.org", "@type": "WebPage", "@id": "https://kotlin.github.io/dataframe//0.9/operations.html#webpage", "url": "https://kotlin.github.io/dataframe//0.9/operations.html", "name": "Operations | Dataframe", "description": "", "image": "", "inLanguage":"en-US" }</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json"> { "@type": "WebSite", "@id": "https://kotlin.github.io/dataframe/#website", "url": "https://kotlin.github.io/dataframe/", "name": "Dataframe Help" }</script><!-- End Schema.org --></head>    <body data-id="operations" data-main-title="Operations" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}"  data-template="article"  data-breadcrumbs=""  >  <div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>Dataframe 0.9 Help</h3><div class="shortcuts-switcher"><label for="switch-shortcuts">Keymap:</label><select class="select _shortcuts" height="1" id="switch-shortcuts">  </select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="operations" id="operations.md"  >Operations</h1><p id="67a8fe1c" >DataFrame transformation pipeline usually consists of several modification operations, such as filtering, sorting, grouping, pivoting, adding/removing columns etc. DataFrame API is designed in functional style so that the whole processing pipeline can be represented as a single statement with a sequential chain of operations. <code class="code "   >DataFrame</code> object is immutable, so all operations will return a new <code class="code "   >DataFrame</code> instance reusing underlying data structures as much as possible.</p><div class="code-block" data-lang="kotlin"          >df.update { age }.where { city == &quot;Paris&quot; }.with { it - 5 }
    .filter { isHappy &amp;&amp; age &gt; 100 }
    .move { name.firstName and name.lastName }.after { isHappy }
    .merge { age and weight }.by { &quot;Age: ${it[0]}, weight: ${it[1]}&quot; }.into(&quot;info&quot;)
    .rename { isHappy }.into(&quot;isOK&quot;)
</div><section class="chapter"  ><h2 id="multiplex-operations" data-toc="operations#multiplex-operations"  >Multiplex operations</h2><p id="754c57b5" >Simple operations (such as <a href="filter.html" id="141c5e1"   ><code class="code "   >filter</code></a> or <a href="select.html" id="99581069"   ><code class="code "   >select</code></a>) return <code class="code "   >DataFrame</code>, but more complex operations return an intermediate object that is used for further configuration of the operation. Let's call such operations <b id="cbab1a7e" class=""  >multiplex</b>.</p><p id="f01cfc9b" >Every multiplex operation configuration consists of:</p><ul class="list _ul" id="541334af"   ><li class="list__item" id="4164da5c" ><p><a href="columnselectors.html" id="e0f6734"   >column selector</a> that is used to select target columns for the operation</p></li><li class="list__item" id="6559399b" ><p>additional configuration</p></li><li class="list__item" id="1d6f1918" ><p>terminal function that returns modified <code class="code "   >DataFrame</code></p></li></ul><p id="bb1f2466" >Multiplex operations usually end with <code class="code "   >into</code> or <code class="code "   >with</code> function. The following naming convention is used:</p><ul class="list _ul" id="f71a0412"   ><li class="list__item" id="e6553dd3" ><p><code class="code "   >into</code> defines column names for storing operation results. Used in <a href="move.html" id="2a100c97"   ><code class="code "   >move</code></a>, <a href="group.html" id="782b573c"   ><code class="code "   >group</code></a>, <a href="split.html" id="a72e0da1"   ><code class="code "   >split</code></a>, <a href="merge.html" id="e79d815d"   ><code class="code "   >merge</code></a>, <a href="gather.html" id="ecc9ca9f"   ><code class="code "   >gather</code></a>, <a href="groupby.html" id="f1ffca1b"   ><code class="code "   >groupBy</code></a>, <a href="rename.html" id="c96b6a9c"   ><code class="code "   >rename</code></a>.</p></li><li class="list__item" id="5a01bf9" ><p><code class="code "   >with</code> defines row-wise data transformation using <a href="datarow.html#row-expressions" id="196cca74"   ><code class="code "   >row expression</code></a>. Used in <a href="update.html" id="bc6220d0"   ><code class="code "   >update</code></a>, <a href="convert.html" id="bb4480a7"   ><code class="code "   >convert</code></a>, <a href="replace.html" id="7c2a1bbf"   ><code class="code "   >replace</code></a>, <a href="pivot.html" id="d35cca70"   ><code class="code "   >pivot</code></a>.</p></li></ul></section><section class="chapter"  ><h2 id="list-of-all-dataframe-operations" data-toc="operations#list-of-all-dataframe-operations"  >List of all DataFrame operations</h2><ul class="list _ul" id="a6c6ee5f"   ><li class="list__item" id="8f2e2eff" ><p><a href="add.html" id="1ac3b616"   >add</a>- add columns</p></li><li class="list__item" id="89b5dee7" ><p><a href="append.html" id="b15abd3b"   >append</a>- add rows</p></li><li class="list__item" id="78080c34" ><p><a href="columns.html" id="cb031e81"   >columns</a>- get list of columns</p></li><li class="list__item" id="17d7c652" ><p><a href="concat.html" id="b744e77f"   >concat</a>- union rows</p></li><li class="list__item" id="23cbf838" ><p><a href="convert.html" id="77444c0f"   >convert</a>- change column values and/or column types</p></li><li class="list__item" id="36a9a4f9" ><p><a href="corr.html" id="4d8745ee"   >corr</a>- pairwise correlation of columns</p></li><li class="list__item" id="33403bb0" ><p><a href="cumsum.html" id="e0cc4ea8"   >cumSum</a>- cumulative sum of column values</p></li><li class="list__item" id="ad3b4c38" ><p><a href="describe.html" id="5ccbe519"   >describe</a>- basic column statistics</p></li><li class="list__item" id="4530c84f" ><p><a href="distinct.html" id="1b650f"   >distinct</a>/ <a href="distinct.html#distinctby" id="4461491e"   >distinctBy</a>- remove duplicated rows</p></li><li class="list__item" id="e8cfaecd" ><p><a href="drop.html" id="82079733"   >drop</a>/ <a href="slicerows.html#droplast" id="15cb057b"   >dropLast</a>/ <a href="drop.html#dropnulls" id="b1638373"   >dropNulls</a>/ <a href="drop.html#dropna" id="ef49b6cc"   >dropNA</a>- remove rows be condition</p></li><li class="list__item" id="2122098e" ><p><a href="explode.html" id="73eb5b65"   >explode</a>- spread lists and dataframes vertically into new rows</p></li><li class="list__item" id="294848fc" ><p><a href="fill.html#fillnulls" id="e5ae1ec0"   >fillNulls</a>/ <a href="fill.html#fillnans" id="ca892f89"   >fillNaNs</a>/ <a href="fill.html#fillna" id="bb5a4ea3"   >fillNA</a>- replace missing values</p></li><li class="list__item" id="8dae48fc" ><p><a href="filter.html" id="ffa6c56c"   >filter</a>/ <a href="filter.html#filterby" id="a1ad1964"   >filterBy</a>- filter rows</p></li><li class="list__item" id="bd9b67b6" ><p><a href="first.html" id="e24c43fe"   >first</a>/ <a href="first.html#firstornull" id="ef0b3524"   >firstOrNull</a>- first row by condition</p></li><li class="list__item" id="2d2196e1" ><p><a href="flatten.html" id="e459255f"   >flatten</a>- remove column groupings recursively</p></li><li class="list__item" id="ce5573d2" ><p><a href="iterate.html" id="8cc4857f"   >forEachRow</a>/ <a href="iterate.html" id="265d08e2"   >forEachColumn</a>- iterate over rows or columns</p></li><li class="list__item" id="912d9777" ><p><a href="format.html" id="336defd4"   >format</a>- conditional formatting for cell rendering</p></li><li class="list__item" id="17a1244a" ><p><a href="gather.html" id="59602951"   >gather</a>- convert columns into key-value pairs</p></li><li class="list__item" id="13d95300" ><p><a href="getcolumn.html" id="bcca9173"   >getColumn</a>/ <a href="getcolumn.html#getcolumnornull" id="ede7b9bf"   >getColumnOrNull</a>/ <a href="getcolumn.html#getcolumngroup" id="1937ed3f"   >getColumnGroup</a>/ <a href="getcolumn.html#getcolumns" id="a7ed1376"   >getColumns</a>- get one or several columns</p></li><li class="list__item" id="d8cc1cf1" ><p><a href="group.html" id="c7b79bf6"   >group</a>- group columns into <a href="datacolumn.html#columngroup" id="c9b8e54f"   ><code class="code "   >ColumnGroup</code></a></p></li><li class="list__item" id="fe1db267" ><p><a href="groupby.html" id="2638859a"   >groupBy</a>- group rows by key columns</p></li><li class="list__item" id="9ae5c055" ><p><a href="head.html" id="f0aeb652"   >head</a>- top 5 rows</p></li><li class="list__item" id="d75acb0c" ><p><a href="implode.html" id="7d8283e0"   >implode</a>- collapse column values into lists</p></li><li class="list__item" id="b568d439" ><p><a href="insert.html" id="3bf3459a"   >insert</a>- insert column</p></li><li class="list__item" id="e5c146b5" ><p><a href="join.html" id="60424fb5"   >join</a>- join dataframes by key columns</p></li><li class="list__item" id="cba2d121" ><p><a href="last.html" id="261df2fe"   >last</a>/ <a href="last.html#lastornull" id="10b84d9f"   >lastOrNull</a>- last row by condition</p></li><li class="list__item" id="e3ad8636" ><p><a href="map.html" id="b64f02cf"   >map</a>- map <a href="dataframe.html" id="9aead61b"   ><code class="code "   >DataFrame</code></a> columns to a new <a href="dataframe.html" id="839d7465"   ><code class="code "   >DataFrame</code></a> or <a href="datacolumn.html" id="c2500b42"   ><code class="code "   >DataColumn</code></a></p></li><li class="list__item" id="e8de6a18" ><p><a href="minmax.html" id="56bc09b4"   >max</a>/ <a href="minmax.html" id="1bc4418f"   >maxBy</a>/ <a href="minmax.html" id="41a2021c"   >maxOf</a>/ <a href="minmax.html" id="322cc834"   >maxFor</a>- max of values</p></li><li class="list__item" id="d1b1248b" ><p><a href="mean.html" id="3417963a"   >mean</a>/ <a href="mean.html" id="d84e0bf2"   >meanOf</a>/ <a href="mean.html" id="52383e1b"   >meanFor</a>- average of values</p></li><li class="list__item" id="797a25f0" ><p><a href="median.html" id="f0ae512c"   >median</a>/ <a href="median.html" id="bfd1875a"   >medianOf</a>/ <a href="median.html" id="fd98ea62"   >medianFor</a>- median of values</p></li><li class="list__item" id="66708359" ><p><a href="merge.html" id="8fd256d5"   >merge</a>- merge several columns into one</p></li><li class="list__item" id="b6e1b9fc" ><p><a href="minmax.html" id="ba2952c7"   >min</a>/ <a href="minmax.html" id="d48fe170"   >minBy</a>/ <a href="minmax.html" id="3c9633c"   >minOf</a>/ <a href="minmax.html" id="48e96540"   >minFor</a>- min of values</p></li><li class="list__item" id="50f36762" ><p><a href="move.html" id="a231293e"   >move</a>- move columns or change column groupings</p></li><li class="list__item" id="b2ab6257" ><p><a href="ncol.html" id="5517da13"   >ncol</a>- number of columns</p></li><li class="list__item" id="c0e0519" ><p><a href="ndistinct.html" id="857f4b85"   >ndistinct</a>- number of unique rows</p></li><li class="list__item" id="f8d5799c" ><p><a href="nrow.html" id="206704ea"   >nrow</a>- number of rows</p></li><li class="list__item" id="5dabab58" ><p><a href="parse.html" id="feea566c"   >parse</a>- convert <code class="code "   >String</code> values into appropriate types</p></li><li class="list__item" id="b327b606" ><p><a href="pivot.html" id="54725902"   >pivot</a>/ <a href="pivot.html#pivotcounts" id="1c03c161"   >pivotCounts</a>/ <a href="pivot.html#pivotmatches" id="1823983e"   >pivotMatches</a>- convert column values into new columns</p></li><li class="list__item" id="25d3a9fa" ><p><a href="remove.html" id="563fc4a2"   >remove</a>- remove columns</p></li><li class="list__item" id="2f79133a" ><p><a href="rename.html" id="123261c2"   >rename</a>- rename columns</p></li><li class="list__item" id="7ed9166a" ><p><a href="replace.html" id="2cfc63e5"   >replace</a>- replace columns</p></li><li class="list__item" id="5690469d" ><p><a href="rows.html" id="a9e473a7"   >rows</a>/ <a href="rows.html#rowsreversed" id="440bbf14"   >rowsReversed</a></p></li><li class="list__item" id="6452f64c" ><p><a href="schema.html" id="3cdb90a2"   >schema</a>- schema of column hierarchy</p></li><li class="list__item" id="ee30d656" ><p><a href="select.html" id="92a3d714"   >select</a>- select subset of columns</p></li><li class="list__item" id="2249871d" ><p><a href="shuffle.html" id="32106db6"   >shuffled</a>- reorder rows randomly</p></li><li class="list__item" id="522e6f71" ><p><a href="single.html" id="a0733263"   >single</a>/ <a href="single.html#singleornull" id="13141a9a"   >singleOrNull</a>- single row by condition</p></li><li class="list__item" id="9e4818c2" ><p><a href="sortby.html" id="24c11428"   >sortBy</a>/ <a href="sortby.html#sortbydesc" id="ec7d8ba0"   >sortByDesc</a>/ <a href="sortby.html#sortwith" id="31487a75"   >sortWith</a>- sort rows</p></li><li class="list__item" id="dcadd08b" ><p><a href="split.html" id="ef54ecca"   >split</a>- split column values into several columns or new rows</p></li><li class="list__item" id="14a8e212" ><p><a href="std.html" id="5a1dd582"   >std</a>/ <a href="std.html" id="d6018f5b"   >stdOf</a>/ <a href="std.html" id="33b3fd9f"   >stdFor</a>- standard deviation of values</p></li><li class="list__item" id="7e0733ed" ><p><a href="sum.html" id="e0da26ae"   >sum</a>/ <a href="sum.html" id="919c18e1"   >sumOf</a>/ <a href="sum.html" id="556ae8f4"   >sumFor</a>- sum of values</p></li><li class="list__item" id="7d8b18d4" ><p><a href="slicerows.html#take" id="103a972f"   >take</a>/ <a href="slicerows.html#takelast" id="b70b8255"   >takeLast</a>- first/last rows</p></li><li class="list__item" id="24ef3e76" ><p><a href="ungroup.html" id="fc0d009f"   >ungroup</a>- remove column grouping</p></li><li class="list__item" id="8bc34ffc" ><p><a href="update.html" id="622d98df"   >update</a>- change column values preserving column types</p></li><li class="list__item" id="30aebc3" ><p><a href="valuecounts.html" id="329f1a5d"   >valueCounts</a>- counts for unique values</p></li><li class="list__item" id="50b66e7f" ><p><a href="xs.html" id="1a1fca39"   >xs</a>- filter by key values</p></li></ul></section><div class="last-modified"> Last modified: 29 November 2021</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom">  <a class="navigation-links__prev" href="datarow.html">DataRow</a>   <a class="navigation-links__next" href="create.html">Create</a>  </div></article><div id="disqus_thread"></div></div></section></main></div>  <script src="https://resources.jetbrains.com/storage/help-app/v3/app.js"></script></body></html>